# image: https://hub.docker.com/r/adguard/adguardhome
# docs: https://github.com/AdguardTeam/AdGuardHome?tab=readme-ov-file#getting-started

services:
  adguardhome:
    image: ${W9_REPO}:${W9_VERSION}
    container_name: ${W9_ID}
    env_file:
      - .env
    restart: unless-stopped
    environment:
      - TZ=Asia/Shanghai
    volumes:
      - adguard-work:/opt/adguardhome/work
      - adguard-conf:/opt/adguardhome/conf
    ports:
      - "${W9_DNS_TCP_PORT_SET}:53/tcp"
      - "${W9_DNS_UDP_PORT_SET}:53/udp"
      - "${W9_HTTP_PORT_SET}:80"
      - "${W9_DASHBOARD_PORT_SET}:3000/tcp"

networks:
  default:
    name: ${W9_NETWORK}
    external: true

volumes:
  adguard-work:
  adguard-conf:
