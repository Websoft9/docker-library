# Apache Traffic Server records.config
# Basic configuration for reverse proxy setup

# HTTP server ports
CONFIG proxy.config.http.server_ports STRING 8080:ipv4 8443:ssl:ipv4

# Cache settings
CONFIG proxy.config.cache.ram_cache.size INT 268435456  # 256MB
CONFIG proxy.config.cache.disk_space INT 10737418240     # 10GB

# Reverse proxy mode
CONFIG proxy.config.reverse_proxy.enabled INT 1

# HTTP settings
CONFIG proxy.config.http.cache.http INT 1
CONFIG proxy.config.http.cache.ignore_client_cc_max_age INT 1
CONFIG proxy.config.http.cache.required_headers INT 0
CONFIG proxy.config.http.keep_alive_enabled_in INT 1
CONFIG proxy.config.http.keep_alive_enabled_out INT 1
CONFIG proxy.config.http.chunking_enabled INT 1

# Logging
CONFIG proxy.config.log.logging_enabled INT 3
CONFIG proxy.config.log.max_secs_per_buffer INT 5
CONFIG proxy.config.log.max_space_mb_for_logs INT 25000
CONFIG proxy.config.log.max_space_mb_headroom INT 1000
CONFIG proxy.config.log.rolling_enabled INT 1

# Security
CONFIG proxy.config.http.server_session_sharing.match STRING both
CONFIG proxy.config.http.session_auth_cache.enabled INT 1

# Management interface
CONFIG proxy.config.admin.synthetic_port INT 8088
CONFIG proxy.config.admin.autoconf_port INT 8080

# SSL settings
CONFIG proxy.config.ssl.client.verify.server INT 0
CONFIG proxy.config.ssl.server.cert.load_elevated INT 1

# Performance tuning
CONFIG proxy.config.net.connections_throttle INT 30000
CONFIG proxy.config.accept_threads INT 1
CONFIG proxy.config.task_threads INT 2